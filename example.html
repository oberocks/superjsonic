<!doctype html>
<html>

    <head>

        <meta charset="UTF-8" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">

        <!-- FontAwesome (v5.15.3) SVG JS -->
        <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" data-auto-replace-svg="nest"></script>

    </head>

    <body class="bg-gray-900 text-gray-100 min-h-screen">

        
        <div id="target"></div>
        <div id="benchmarking-workspace"></div>
        <div id="benchmarking-results"></div>


        <script type="module">
            
            // import module
            import { Dom_generator } from './superjsonic/Dom_generator.js';
            import { Benchmarks } from './superjsonic/Benchmarks.js';

            // setup constant variables
            const DOM = new Dom_generator();
            const BENCHMARK = new Benchmarks();
            const fragment = document.createDocumentFragment();





            
            // generate a headline element
            let headline = DOM.generate_element(
                'h1',
                'Headline Example Text',
                { class: 'text-3xl text-center' }
            );

            // generate a headline element
            let section = DOM.generate_element(
                'section',
                false,
                { class: 'grid grid-cols-1 items-center p-10' },
                headline
            );

            // append the element to the fragment
            fragment.appendChild(section);

            // and append the fragment to the document
            document.getElementById('target').appendChild(fragment);











            // create a schema for multi-element markup
            const article_schema = [
                {
                    tag: 'article',
                    attributes: {
                        class: 'grid grid-cols-1 items-center p-10'
                    },
                    children: [
                        {
                            tag: 'h1',
                            text: 'Headline Example Text',
                            attributes: {
                                class: 'text-3xl text-center'
                            }
                        },
                        {
                            tag: 'p',
                            attributes: {
                                class: 'max-w-lg mx-auto text-center text-gray-300'
                            },
                            text: [
                                'Lorem ipsum dolor sit amet, consectetur\'s adipisicing elit. Inventore, delectus quaerat aliquam illo aspernatur minus non a! Dicta error deserunt ',
                                DOM.generate_element('a', 'lorem anchor textum', { class:'text-blue-400', href: '#' }),
                                ' unde neque ad natus, cupiditate consectetur ullam quam eum debitis!'
                            ]
                        }
                    ]
                }
            ];

            // generate the markup elements with the schema
            const article = DOM.generate_elements(article_schema);

            // and append the fragment to the document
            document.getElementById('target').appendChild(article);










            const bizness = [
                {
                    tag: 'h1',
                    text: 'My Dope Song Request'
                },
                {
                    tag: 'p',
                    text: 'Check out my dope song request, Super JSONic DJ. My song request is naturally the late 80s smash hit "Supersonic" by J.J. Fad.'
                }
            ];

            const bizness_markup = DOM.generate_elements(bizness);

            document.getElementById('target').appendChild(bizness_markup);








            // Generate the markup
            const docs_headline = DOM.generate_element('h1', "J.J. Fad's Supersonic", {
                class: 'text-3xl'
            });

            // Add the generated markup to the document
            document.getElementById('target').appendChild(docs_headline);








            // Generate the markup
            const icon = DOM.generate_element('i', false, { class: 'fas fa-volume-up mr-2' });
            const headline2 = DOM.generate_element('h1', false, { class: 'text-3xl' }, [icon, "J.J. Fad's Supersonic"]);

            // Add the generated markup to the document
            document.getElementById('target').appendChild(headline2);












            function h1Test() {
                return DOM.generate_element('h1', false, { class: 'text-3xl' }, [icon, "J.J. Fad's Supersonic"]);
            };

            BENCHMARK.append_nodes_test (
                {
                    slug : 'h1Test',
                    name : 'h1Test()',
                    target : 'benchmarking-workspace',
                    loops : BENCHMARK.defaults.loops,
                    description : 'Run (' + Number(BENCHMARK.defaults.loops).toLocaleString() + ') DOM.generate_element() calls each producing a <h1> & <p> elements with text and a class attribute string. Next, each element is inserted into a document fragment, which then gets inserted into the DOM before the test time is stopped. All generated elements are removed manually after the test has run.'
                },
                h1Test
            );

            BENCHMARK.render_results_card('h1Test', 'benchmarking-results');









            function biznessTest() {
                return DOM.generate_elements(bizness);
            };

            BENCHMARK.append_nodes_test (
                {
                    slug : 'biznessTest',
                    name : 'biznessTest()',
                    target : 'benchmarking-workspace',
                    loops : BENCHMARK.defaults.loops,
                    description : 'Run (' + Number(BENCHMARK.defaults.loops).toLocaleString() + ') DOM.generate_elements() calls each producing a <h1> element with text and a class attribute string. Next, each element is inserted into a document fragment, which then gets inserted into the DOM before the test time is stopped. All generated elements are removed manually after the test has run.'
                },
                h1Test
            );

            BENCHMARK.render_results_card('biznessTest', 'benchmarking-results');











            function innerStringsBiznessTest() {
                let headline = '<h1>My Dope Song Request</h1>';
                let paragraph = '<p>Check out my dope song request, Super JSONic DJ. My song request is naturally the late 80s smash hit "Supersonic" by J.J. Fad.</p>';
                return headline + paragraph;
            };
            
            BENCHMARK.append_nodes_test (
                {
                    slug : 'innerStringsBiznessTest',
                    name : 'innerStringsBiznessTest()',
                    target : 'benchmarking-workspace',
                    loops : BENCHMARK.defaults.loops,
                    description : 'Run (' + Number(BENCHMARK.defaults.loops).toLocaleString() + ') string building calls each producing a <h1> & <p> elements with text and a class attribute string. Next, each element is inserted into an array of strings, which then gets inserted into the DOM as a joined (.join()) full length string before the test time is stopped. The generated string is removed manually after the test has run.'
                },
                h1Test
            );

            BENCHMARK.render_results_card('innerStringsBiznessTest', 'benchmarking-results');









        </script>

    </body>

</html>